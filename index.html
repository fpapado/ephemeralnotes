<!DOCTYPE html>
<html lang="en" class="fonts-not-asked">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="manifest" href="/assets/manifest.json"></link>

  <title>Ephemeral</title>

  <script>
    (function () {
      'use strict';
      var r = document.documentElement;

      // Only preload the woff2 version, since
      // the font loading API is not available in
      // other browsers anyway
      var wildberryBold = new FontFace(
        'Wildberry',
        'url(/assets/fonts/Wildberry-v0.2-Bold-Web.woff2)',
        {
          style: 'normal',
          weight: '700'
        }
      );
      document.fonts.add(wildberryBold);

      // optimise repeat views
      if (sessionStorage.fontsLoaded) {
        r.classList.add('fonts-loaded');
        console.log('Fonts: already loaded')
        return;
      } else if ('fonts' in document) {
        wildberryBold.load()
          .then(function () {
            r.classList.add('fonts-loaded');
            console.log('Fonts: loaded')
          })
          .catch(function (e) { console.error('Fonts: Stage 1 failed', e); });
      } else {
        // if no font API, then let the browser do its loading as usual
        sessionStorage.fontsLoaded = true;
        r.classList.add('fonts-loaded');
      }
    })();
  </script>
  <noscript>
    <style>
      .fonts-not-asked .f-wildberry {
        font-family: 'Wildberry', Arial, Helvetica, sans-serif !important;
      }
    </style>
  </noscript>
</head>

<body>
  <div class="min-vh-100 flex flex-column sans-serif bg-washed-blue near-black">
    <header class="pv2 navy bg-white shadow-1">
      <nav class="tc">
        <a href="/" class="link navy"><span class="f3 tc fw7 f-wildberry">Ephemeral</span></a>
      </nav>
    </header>
    <main>
      <div class="pa3 mw8 center"></div>
    </main>
  </div>

  <script>
    // Check that service workers are registered
    if ('serviceWorker' in navigator) {
      // Use the window load event to keep the page load performant
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').then(registration => {
          console.log('SW registered: ', registration);
        }).catch(registrationError => {
          console.log('SW registration failed: ', registrationError);
        });
      });
    }
  </script>
</body>

</html>
